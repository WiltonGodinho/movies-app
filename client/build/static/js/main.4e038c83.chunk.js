(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{176:function(e,t,n){"use strict";n.r(t);var a,r,c,i,o,s,u,l,d,j,b,p,v,f,O,m,x,h,g=n(0),w=n.n(g),y=n(14),k=n.n(y),C=n(68),N=n(20),M=n(46),S=n(47),I=n(52),B=n(51),H=n(18),D=n(19),R=n(6),U=D.a.div.attrs({className:"collpase navbar-collapse"})(a||(a=Object(H.a)([""]))),_=D.a.div.attrs({className:"navbar-nav mr-auto"})(r||(r=Object(H.a)([""]))),A=D.a.div.attrs({className:"collpase navbar-collapse"})(c||(c=Object(H.a)([""]))),E=function(e){Object(I.a)(n,e);var t=Object(B.a)(n);function n(){return Object(M.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"render",value:function(){return Object(R.jsxs)(w.a.Fragment,{children:[Object(R.jsx)(C.b,{to:"/movies/listM",className:"navbar-brand",children:"Home"}),Object(R.jsx)(U,{children:Object(R.jsx)(_,{children:Object(R.jsx)(A,{children:Object(R.jsx)(C.b,{to:"/movies/create",className:"nav-link",children:"Create Movie"})})})})]})}}]),n}(g.Component),T=n.p+"static/media/logo.6ce24c58.svg",z=D.a.a.attrs({className:"navbar-brand"})(i||(i=Object(H.a)([""]))),J=function(e){Object(I.a)(n,e);var t=Object(B.a)(n);function n(){return Object(M.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"render",value:function(){return Object(R.jsx)(z,{children:Object(R.jsx)("img",{src:T,width:"50",height:"50",alt:"nothing"})})}}]),n}(g.Component),P=D.a.div.attrs({className:"container"})(o||(o=Object(H.a)([""]))),F=D.a.nav.attrs({className:"navbar navbar-expand-lg navbar-dark bg-dark"})(s||(s=Object(H.a)(["\n    margin-bottom: 20 px;\n"]))),G=function(e){Object(I.a)(n,e);var t=Object(B.a)(n);function n(){return Object(M.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"render",value:function(){return Object(R.jsx)(P,{children:Object(R.jsxs)(F,{children:[Object(R.jsx)(J,{}),Object(R.jsx)(E,{})]})})}}]),n}(g.Component),L=n(22),q=n.n(L),K=n(38),Q=n(7),V=n(121),W=n(117),X=n.n(W).a.create({baseURL:"http://localhost:3000/api"}),Y=function(e){return X.get("/movie/".concat(e))},Z={insertMovie:function(e){return X.post("/movie",e)},getAllMovies:function(){return X.get("/movies")},updateMovieById:function(e,t){return X.put("/movie/".concat(e),t)},deleteMovieById:function(e){return X.delete("/movie/".concat(e))},getMovieById:Y},$=(n(172),D.a.div(u||(u=Object(H.a)(["\n    padding: 0 40px 40px 40px;\n"])))),ee=D.a.div(l||(l=Object(H.a)(["\n    color: #ef9b0f;\n    cursor: pointer;\n"]))),te=D.a.div(d||(d=Object(H.a)(["\n    color: #ff0000;\n    cursor: pointer;\n"]))),ne=function(e){var t=e.id;return Object(R.jsx)(ee,{onClick:function(e){e.preventDefault(),window.location.href="/movies/update/".concat(t)},children:"Update"})},ae=function(e){var t=e.id,n=e.name;return Object(R.jsx)(te,{onClick:function(e){console.log("event ",e),e.preventDefault(),window.confirm("Do tou want to delete the movie ".concat(n," permanently?"))&&(Z.deleteMovieById(t),window.location.reload())},children:"Delete"})},re=function(e){var t=Object(g.useState)([]),n=Object(Q.a)(t,2),a=n[0],r=n[1],c=Object(g.useState)(!1),i=Object(Q.a)(c,2),o=i[0],s=(i[1],function(){var e=Object(K.a)(q.a.mark((function e(){var t,n,a,c;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.getAllMovies();case 2:a=e.sent,c=null!==(t=null===a||void 0===a||null===(n=a.data)||void 0===n?void 0:n.data)&&void 0!==t?t:[],r(c);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());Object(g.useEffect)((function(){s()}),[]);var u=[{Header:"_id",accessor:"",filterable:!1,Cell:function(e){return Object(R.jsx)("span",{children:Object(R.jsx)("a",{href:"detail/".concat(e.original._id),children:e.original._id})})}},{Header:"Name",accessor:"name",filterable:!0},{Header:"Rating",accessor:"rating",filterable:!0},{Header:"Time",accessor:"time",Cell:function(e){return Object(R.jsx)("span",{children:e.value.join(" / ")})}},{Header:"",accessor:"",Cell:function(e){return Object(R.jsx)("span",{children:Object(R.jsx)(ae,{id:e.original._id,name:e.original.name})})}},{Header:"",accessor:"",Cell:function(e){return Object(R.jsx)("span",{children:Object(R.jsx)(ne,{id:e.original._id})})}}],l=!0;return a.length||(l=!1),Object(R.jsx)($,{children:l&&Object(R.jsx)(V.a,{data:a,columns:u,loading:o,defaultPageSize:10,showPageSizeOptions:!0,minRows:0})})},ce=D.a.h1.attrs({className:"h1"})(j||(j=Object(H.a)([""]))),ie=D.a.div.attrs({className:"form-group"})(b||(b=Object(H.a)(["\n    margin: 0 30px;\n"]))),oe=D.a.label(p||(p=Object(H.a)(["\n    margin: 5px;\n"]))),se=D.a.input.attrs({className:"form-control"})(v||(v=Object(H.a)(["\n    margin: 5px;\n"]))),ue=D.a.button.attrs({className:"btn btn-primary"})(f||(f=Object(H.a)(["\n    margin: 15px 15px 15px 5px;\n"]))),le=D.a.a.attrs({className:"btn btn-danger"})(O||(O=Object(H.a)(["\n    margin: 15px 15px 15px 5px;\n"]))),de=function(e){var t=Object(g.useState)(""),n=Object(Q.a)(t,2),a=n[0],r=n[1],c=Object(g.useState)(""),i=Object(Q.a)(c,2),o=i[0],s=i[1],u=Object(g.useState)(""),l=Object(Q.a)(u,2),d=l[0],j=l[1],b=e.match.params.id,p=function(){var e=Object(K.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=5;break}return r(""),s(""),j(""),e.abrupt("return");case 5:return e.next=7,Y(t);case 7:n=e.sent,r(n.data.data.name),s(n.data.data.rating),j(n.data.data.time.join("/"));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(g.useEffect)((function(){p(b)}),[b]);var v=function(){var e=Object(K.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,r(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(K.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.validity.valid?t.target.value:o,s(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(K.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,j(n);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(K.a)(q.a.mark((function e(){var t,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.split("/"),n={name:a,rating:o,time:t},b){e.next=7;break}return e.next=5,Z.insertMovie(n).then((function(e){window.alert("Movie inserted successfully")}));case 5:e.next=9;break;case 7:return e.next=9,Z.updateMovieById(b,n).then((function(e){window.alert("Movie updated successfully")}));case 9:r(""),s(""),j("");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(R.jsxs)(ie,{children:[Object(R.jsx)(ce,{children:"Create/Update Movie"}),Object(R.jsx)(oe,{children:"Name: "}),Object(R.jsx)(se,{type:"text",value:a,onChange:v}),Object(R.jsx)(oe,{children:"Rating: "}),Object(R.jsx)(se,{type:"number",step:"0.1",lang:"en-US",min:"0",max:"10",pattern:"[0-9]+([,\\.][0-9]+)?",value:o,onChange:f}),Object(R.jsx)(oe,{children:"Time: "}),Object(R.jsx)(se,{type:"text",value:d,onChange:O}),Object(R.jsx)(ue,{onClick:m,children:"Add/Update Movie"}),Object(R.jsx)(le,{href:"/movies/list",children:"Cancel"})]})},je=D.a.div(m||(m=Object(H.a)(["\n    margin: 0 30px;\n"]))),be=D.a.div(x||(x=Object(H.a)(["\n    margin: 0 15px;\n"]))),pe=function(e){var t=Object(g.useState)({}),n=Object(Q.a)(t,2),a=n[0],r=n[1],c=e.match.params.id,i=function(){var e=Object(K.a)(q.a.mark((function e(t){var n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.getMovieById(t);case 2:n=e.sent,r(n.data.data),console.log(n.data.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.useEffect)((function(){return i(c)}),[c]),Object(R.jsxs)(je,{children:[Object(R.jsxs)(be,{children:["Name: ",a.name]}),Object(R.jsxs)(be,{children:["RATING: ",a.rating]}),Object(R.jsxs)(be,{children:["Time: ",a.time]})]})},ve=n(118),fe=n(119),Oe=n(61),me=D.a.div(h||(h=Object(H.a)(["\n    padding: 0 40px 40px 40px;\n"]))),xe=function(e){return Object(R.jsx)(Oe.a,{variant:"contained",color:"primary",size:"small",onClick:function(){return t=e.id,void(window.confirm("Do tou want to delete the movie ".concat(t," permanently?"))&&(Z.deleteMovieById(t),window.location.reload()));var t},children:"Delete"})},he=function(e){var t=Object(g.useState)([]),n=Object(Q.a)(t,2),a=n[0],r=n[1],c=function(){var e=Object(K.a)(q.a.mark((function e(){var t,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.getAllMovies();case 2:t=e.sent,n=t.data.data.map((function(e){return Object(ve.a)({id:e._id},e)})),r(n),console.log(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(g.useEffect)((function(){c()}),[]);var i=[{field:"id",width:200,renderCell:function(e){return Object(R.jsx)("a",{href:"/movies/detail/".concat(e.id),children:e.id})}},{field:"name",headerName:"Name",width:200},{field:"rating",headerName:"Rating",width:200},{field:"time",headerName:"Time",width:200},{field:"",width:100,renderCell:function(e){return Object(R.jsx)(Oe.a,{variant:"contained",color:"primary",size:"small",onClick:function(){return t=e.id,void(window.location.href="/movies/update/".concat(t));var t},children:"Update"})}},{field:" ",width:100,renderCell:function(e){return Object(R.jsx)(xe,{id:e.id})}}];return Object(R.jsxs)(me,{children:[Object(R.jsx)("div",{children:a&&a[1]&&a[1].id}),Object(R.jsx)(fe.a,{columns:i,rows:a||[],autoHeight:!0})]})};n(175);var ge=function(){return Object(R.jsxs)(C.a,{children:[Object(R.jsx)(G,{}),Object(R.jsxs)(N.c,{children:[Object(R.jsx)(N.a,{path:"/",exact:!0,component:he}),Object(R.jsx)(N.a,{path:"/movies/list",exact:!0,component:re}),Object(R.jsx)(N.a,{path:"/movies/create",exact:!0,component:de}),Object(R.jsx)(N.a,{path:"/movies/update/:id",exact:!0,component:de}),Object(R.jsx)(N.a,{path:"/movies/detail/:id",exact:!0,component:pe}),Object(R.jsx)(N.a,{path:"/movies/listM",exact:!0,component:he})]})]})};k.a.render(Object(R.jsx)(ge,{}),document.getElementById("root"))}},[[176,1,2]]]);
//# sourceMappingURL=main.4e038c83.chunk.js.map